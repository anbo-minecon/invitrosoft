# Sistema de Componentes - Invitro Soft

Sistema modular de componentes reutilizables para la aplicaciÃ³n web de gestiÃ³n de plantas in vitro.

## ğŸ“ Estructura de Archivos

```
proyecto/
â”œâ”€â”€ header.js          # Componente de cabecera
â”œâ”€â”€ sidebar.js         # Componente de menÃº lateral
â”œâ”€â”€ modal.js           # Componente de modal para nueva planta
â”œâ”€â”€ styles.css         # Estilos base del sistema
â”œâ”€â”€ dashboard.html     # Ejemplo: Panel principal
â””â”€â”€ plantas.html       # Ejemplo: Lista de plantas
```

## ğŸš€ Uso BÃ¡sico

### 1. Incluir archivos necesarios

En cualquier pÃ¡gina HTML, incluye los componentes que necesites:

```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mi PÃ¡gina</title>
  <!-- Estilos base -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Contenedores para los componentes -->
  <div id="header-container"></div>
  <div id="sidebar-container"></div>
  
  <!-- Tu contenido aquÃ­ -->
  <main class="main-content">
    <h1>Contenido de la pÃ¡gina</h1>
  </main>

  <!-- Scripts de componentes -->
  <script src="header.js"></script>
  <script src="sidebar.js"></script>
  <script src="modal.js"></script> <!-- Opcional -->
  
  <!-- InicializaciÃ³n -->
  <script>
    // Inicializar header
    const header = new Header();
    document.getElementById('header-container').innerHTML = header.render();
    header.updatePageTitle('Mi PÃ¡gina');
    
    // Inicializar sidebar
    const sidebar = new Sidebar();
    document.getElementById('sidebar-container').innerHTML = sidebar.render();
    sidebar.setActivePage('panel'); // 'panel', 'plantas', 'estadisticas', 'notificaciones'
    sidebar.initEventListeners();
  </script>
</body>
</html>
```

## ğŸ“‹ Componentes Disponibles

### Header

Barra superior con logo, tÃ­tulo de pÃ¡gina, bÃºsqueda, notificaciones y menÃº de usuario.

**MÃ©todos:**
```javascript
const header = new Header();

// Renderizar el componente
header.render(); // Retorna HTML string

// Actualizar tÃ­tulo de la pÃ¡gina
header.updatePageTitle('Nuevo TÃ­tulo');
```

### Sidebar

MenÃº lateral de navegaciÃ³n con 4 secciones principales.

**MÃ©todos:**
```javascript
const sidebar = new Sidebar();

// Renderizar el componente
sidebar.render(); // Retorna HTML string

// Establecer pÃ¡gina activa
sidebar.setActivePage('plantas'); // 'panel', 'plantas', 'estadisticas', 'notificaciones'

// Inicializar eventos (siempre llamar despuÃ©s de renderizar)
sidebar.initEventListeners();
```

**Eventos:**
```javascript
// Escuchar cambios de pÃ¡gina
window.addEventListener('pageChange', (e) => {
  console.log('Nueva pÃ¡gina:', e.detail.pageId);
  // AquÃ­ puedes manejar la navegaciÃ³n
});
```

### Modal de Nueva Planta

Modal para crear nuevas plantas con formulario completo.

**MÃ©todos:**
```javascript
const plantaModal = new PlantaModal();

// Renderizar el modal (agregar al body)
document.body.insertAdjacentHTML('beforeend', plantaModal.render());
document.head.insertAdjacentHTML('beforeend', plantaModal.getStyles());

// Abrir modal
plantaModal.open();

// Cerrar modal
plantaModal.close();

// Guardar (se llama automÃ¡ticamente desde el botÃ³n)
plantaModal.save();
```

**Eventos:**
```javascript
// Escuchar cuando se crea una planta
window.addEventListener('plantaCreated', (e) => {
  console.log('Planta creada:', e.detail);
  // e.detail contiene todos los datos del formulario
});
```

**Ejemplo de uso completo:**
```html
<button onclick="plantaModal.open()">Crear Planta</button>

<script>
  // Inicializar modal
  const plantaModal = new PlantaModal();
  document.body.insertAdjacentHTML('beforeend', plantaModal.render());
  document.head.insertAdjacentHTML('beforeend', plantaModal.getStyles());
  
  // Escuchar creaciÃ³n de plantas
  window.addEventListener('plantaCreated', (e) => {
    console.log('Nueva planta:', e.detail);
    // AquÃ­ puedes:
    // - Enviar datos al servidor
    // - Actualizar la lista de plantas
    // - Mostrar notificaciÃ³n de Ã©xito
  });
</script>
```

## ğŸ¨ PersonalizaciÃ³n de Estilos

### Variables CSS principales

Puedes personalizar los colores principales agregando estas variables en tu CSS:

```css
:root {
  --color-primary: #2d7a3e;
  --color-primary-dark: #236230;
  --color-success: #27ae60;
  --color-warning: #ff9800;
  --color-danger: #e74c3c;
  --color-info: #2196f3;
  --border-radius: 6px;
}
```

### Clases CSS Ãºtiles

- `.main-content` - Contenedor principal de contenido (ya incluye mÃ¡rgenes para header y sidebar)
- `.card` - Tarjeta con sombra y bordes redondeados
- `.btn-primary` - BotÃ³n primario verde
- `.btn-icon` - BotÃ³n circular con icono

## ğŸ“± Responsive

Los componentes son completamente responsive:

- **Desktop:** Sidebar visible, header completo
- **Tablet:** Sidebar colapsable, elementos compactos
- **Mobile:** Sidebar oculto (toggle), bÃºsqueda simplificada

## ğŸ”§ Ejemplos de PÃ¡ginas

### PÃ¡gina de Dashboard

```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="header-container"></div>
  <div id="sidebar-container"></div>
  
  <main class="main-content">
    <!-- Cards de mÃ©tricas -->
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
      <div class="card">
        <h3>Total Plantas</h3>
        <div style="font-size: 36px; font-weight: bold;">6</div>
      </div>
    </div>
  </main>

  <script src="header.js"></script>
  <script src="sidebar.js"></script>
  <script>
    const header = new Header();
    const sidebar = new Sidebar();
    
    document.getElementById('header-container').innerHTML = header.render();
    document.getElementById('sidebar-container').innerHTML = sidebar.render();
    
    header.updatePageTitle('Panel Principal');
    sidebar.setActivePage('panel');
    sidebar.initEventListeners();
  </script>
</body>
</html>
```

### PÃ¡gina de Plantas

```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mis Plantas</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="header-container"></div>
  <div id="sidebar-container"></div>
  
  <main class="main-content">
    <button class="btn-primary" onclick="plantaModal.open()">
      Crear Planta
    </button>
    
    <!-- Lista de plantas aquÃ­ -->
  </main>

  <script src="header.js"></script>
  <script src="sidebar.js"></script>
  <script src="modal.js"></script>
  <script>
    const header = new Header();
    const sidebar = new Sidebar();
    const plantaModal = new PlantaModal();
    
    document.getElementById('header-container').innerHTML = header.render();
    document.getElementById('sidebar-container').innerHTML = sidebar.render();
    document.body.insertAdjacentHTML('beforeend', plantaModal.render());
    document.head.insertAdjacentHTML('beforeend', plantaModal.getStyles());
    
    header.updatePageTitle('Mis Plantas');
    sidebar.setActivePage('plantas');
    sidebar.initEventListeners();
    
    window.addEventListener('plantaCreated', (e) => {
      alert('Planta creada: ' + e.detail.nombre);
    });
  </script>
</body>
</html>
```

## ğŸ¯ CaracterÃ­sticas

### âœ… Ventajas del Sistema

1. **Modular:** Importa solo lo que necesites
2. **Reutilizable:** Usa los mismos componentes en todas las pÃ¡ginas
3. **FÃ¡cil mantenimiento:** Actualiza un archivo y se refleja en todas las pÃ¡ginas
4. **Sin dependencias:** JavaScript vanilla, no requiere frameworks
5. **Ligero:** Componentes optimizados y eficientes
6. **SVG Icons:** Todos los iconos son SVG inline (no requieren archivos externos)

### ğŸ”’ Sin localStorage/sessionStorage

Los componentes NO usan `localStorage` ni `sessionStorage` por compatibilidad con el entorno de Claude.ai. Toda la informaciÃ³n se mantiene en memoria durante la sesiÃ³n.

## ğŸ“ Notas Importantes

1. **Orden de carga:** Siempre carga los scripts de componentes antes de inicializarlos
2. **Event Listeners:** Llama a `initEventListeners()` despuÃ©s de renderizar el sidebar
3. **TÃ­tulo de pÃ¡gina:** Usa `updatePageTitle()` en cada pÃ¡gina para mostrar el tÃ­tulo correcto
4. **PÃ¡gina activa:** Usa `setActivePage()` para marcar la secciÃ³n actual del menÃº

## ğŸ› Troubleshooting

### El sidebar no responde a clicks
```javascript
// AsegÃºrate de llamar initEventListeners() despuÃ©s de renderizar
sidebar.render();
sidebar.initEventListeners(); // â† No olvides esto
```

### El modal no se muestra
```javascript
// Verifica que hayas agregado tanto el HTML como los estilos
document.body.insertAdjacentHTML('beforeend', plantaModal.render());
document.head.insertAdjacentHTML('beforeend', plantaModal.getStyles()); // â† Importante
```

### Los estilos no se aplican correctamente
```html
<!-- AsegÃºrate de incluir styles.css -->
<link rel="stylesheet" href="styles.css">
```

## ğŸš€ PrÃ³ximas Mejoras

Posibles mejoras para implementar:

- [ ] Sistema de notificaciones toast
- [ ] Componente de tabla reutilizable
- [ ] Filtros avanzados para listas
- [ ] Sistema de paginaciÃ³n
- [ ] Modo oscuro
- [ ] ExportaciÃ³n de datos (CSV, PDF)
- [ ] GrÃ¡ficos interactivos

## ğŸ“ Soporte

Para dudas o problemas con los componentes, revisa primero los ejemplos incluidos (`dashboard.html` y `plantas.html`).

---

**Invitro Soft Â© 2025** - Sistema de gestiÃ³n de plantas in vitro